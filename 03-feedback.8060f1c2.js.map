{"version":3,"sources":["js/03-feedback.js"],"names":["STORAGE_kEY","refs","form","document","querySelector","textarea","input","onFormSubmit","evt","preventDefault","currentTarget","reset","localStorage","removeItem","populateTextarea","addEventListener","formData","savedMessage","getItem","jsonParse","JSON","parse","email","message","value","e","target","name","formDataJSON","stringify","setItem"],"mappings":";AAEA,MAAMA,EAAc,sBAEdC,EAAO,CACTC,KAAMC,SAASC,cAAc,qBAC7BC,SAAUF,SAASC,cAAc,+BACjCE,MAAOH,SAASC,cAAc,6BAOlC,SAASG,EAAaC,GAClBA,EAAIC,iBACJD,EAAIE,cAAcC,QAClBC,aAAaC,WAAWb,GAP5Bc,IAEAb,EAAKC,KAAKa,iBAAiB,SAAUR,GASrC,MAAMS,EAAW,GAajB,SAASF,IACCG,MAAAA,EAAeL,aAAaM,QAAQlB,GAEtCiB,GAAAA,EAAc,CACRE,MAAAA,EAAYC,KAAKC,MAAMJ,IAEvB,MAAEK,EAAF,QAASC,GAAYJ,EAEvBG,GAASC,GACTtB,EAAKK,MAAMkB,MAAQF,EACnBrB,EAAKI,SAASmB,MAAQD,GACfD,EACPrB,EAAKK,MAAMkB,MAAQF,EACZC,IACPtB,EAAKI,SAASmB,MAAQD,IAzBlCtB,EAAKC,KAAKa,iBAAiB,QAAUU,IACZb,aAAaM,QAAQlB,GAE1CgB,EAASS,EAAEC,OAAOC,MAAQF,EAAEC,OAAOF,MAE7BI,MAAAA,EAAeR,KAAKS,UAAUb,GAEpCJ,aAAakB,QAAQ9B,EAAa4B","file":"03-feedback.8060f1c2.js","sourceRoot":"../src","sourcesContent":["// import throttle from 'lodash.throttle';\n\nconst STORAGE_kEY = 'feedback-form-state';\n\nconst refs = {\n    form: document.querySelector('.js-feedback-form'),\n    textarea: document.querySelector('.js-feedback-form  textarea'),\n    input: document.querySelector('.js-feedback-form  input'),\n}\n\npopulateTextarea();\n\nrefs.form.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(evt) {\n    evt.preventDefault();\n    evt.currentTarget.reset();\n    localStorage.removeItem(STORAGE_kEY);\n}\n\n\nconst formData = {};\n\nrefs.form.addEventListener('input', (e) => {\n    const savedMessage = localStorage.getItem(STORAGE_kEY)\n\n    formData[e.target.name] = e.target.value;\n\n    const formDataJSON = JSON.stringify(formData);\n\n    localStorage.setItem(STORAGE_kEY, formDataJSON);\n})\n\n\nfunction populateTextarea() {\n    const savedMessage = localStorage.getItem(STORAGE_kEY)\n\n    if (savedMessage) {\n        const jsonParse = JSON.parse(savedMessage);\n\n        const { email, message } = jsonParse;\n\n        if (email && message) {\n            refs.input.value = email\n            refs.textarea.value = message\n        } else if (email) {\n            refs.input.value = email\n        } else if (message) {\n            refs.textarea.value = message\n        }\n    }\n}\n"]}